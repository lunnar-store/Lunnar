<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunnar - Store de Indicadores</title>
    <!-- Tailwind CSS para estilização rápida e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Ícones Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Fonte Google (Inter) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        lunnar: {
                            dark: '#0f172a', // Slate 900
                            card: '#1e293b', // Slate 800
                            primary: '#10b981', // Emerald 500
                            accent: '#3b82f6', // Blue 500
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #0b0f19;
            color: #e2e8f0;
        }
        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Scrollbar personalizada para o código */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }
        .code-block {
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col font-sans selection:bg-lunnar-primary selection:text-white">

    <!-- Navbar -->
    <nav class="w-full py-6 px-6 md:px-12 flex justify-between items-center glass-card sticky top-0 z-40 border-b border-gray-800">
        <div class="flex items-center gap-2">
            <i data-lucide="moon" class="text-lunnar-primary w-8 h-8 fill-current"></i>
            <span class="text-2xl font-bold tracking-tight text-white">LUNNAR</span>
        </div>
        <div class="hidden md:flex gap-6 text-sm font-medium text-gray-400">
            <a href="#catalogo" class="hover:text-lunnar-primary transition-colors">Catálogo</a>
        </div>
        <a href="#catalogo" class="bg-lunnar-primary/10 text-lunnar-primary px-4 py-2 rounded-full text-sm font-semibold border border-lunnar-primary/20 hover:bg-lunnar-primary hover:text-white transition-all">
            Ver Indicadores
        </a>
    </nav>

    <!-- Hero Section -->
    <header class="relative px-6 py-20 md:py-32 text-center overflow-hidden">
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"></div>
        <div class="relative z-10 max-w-4xl mx-auto">
            <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-6 leading-tight">
                Domine o Mercado com a <span class="text-transparent bg-clip-text bg-gradient-to-r from-lunnar-primary to-blue-500">Lunnar</span>
            </h1>
            <p class="text-gray-400 text-lg md:text-xl mb-8 max-w-2xl mx-auto">
                Indicadores exclusivos de alta precisão para TradingView. 
                Ferramentas profissionais para traders que buscam consistência.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#catalogo" class="bg-lunnar-primary text-white px-8 py-3 rounded-lg font-bold hover:bg-emerald-600 transition-colors shadow-lg shadow-lunnar-primary/20">
                    Explorar Loja
                </a>
                <a href="https://wa.me/5582996519753" target="_blank" class="glass-card text-white px-8 py-3 rounded-lg font-bold hover:bg-gray-800 transition-colors flex items-center justify-center gap-2">
                    <i data-lucide="message-circle" class="w-5 h-5"></i> Falar no WhatsApp
                </a>
            </div>
        </div>
    </header>

    <!-- Catálogo Section -->
    <section id="catalogo" class="px-6 py-16 md:px-12 max-w-7xl mx-auto w-full">
        <div class="flex items-center justify-between mb-10">
            <h2 class="text-3xl font-bold text-white flex items-center gap-2">
                <i data-lucide="bar-chart-2" class="text-lunnar-primary"></i> Catálogo
            </h2>
            <span class="text-sm text-gray-500">8 Indicadores Disponíveis</span>
        </div>

        <!-- Grid de Produtos (Gerado via JS) -->
        <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Os cards serão inseridos aqui pelo JavaScript -->
        </div>
    </section>

    <!-- Footer -->
    <footer class="mt-auto border-t border-gray-800 bg-black/40 py-10 px-6">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="text-center md:text-left">
                <div class="flex items-center gap-2 justify-center md:justify-start mb-2">
                    <i data-lucide="moon" class="text-lunnar-primary w-5 h-5"></i>
                    <span class="text-xl font-bold text-white">LUNNAR</span>
                </div>
                <p class="text-gray-500 text-sm">© 2026 Lunnar Indicators. Todos os direitos reservados.</p>
            </div>
            
            <div class="flex gap-4">
                <a href="https://instagram.com/_vctr01_" target="_blank" class="text-gray-400 hover:text-pink-500 transition-colors">
                    <i data-lucide="instagram" class="w-6 h-6"></i>
                </a>
                <a href="https://wa.me/5582996519753" target="_blank" class="text-gray-400 hover:text-green-500 transition-colors">
                    <i data-lucide="message-circle" class="w-6 h-6"></i>
                </a>
            </div>
        </div>
    </footer>

    <!-- MODAL (Pop-up) -->
    <div id="modal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>

        <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
            <div class="relative transform overflow-hidden rounded-2xl bg-[#1e293b] text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg border border-gray-700">
                
                <!-- Header do Modal -->
                <div class="bg-[#0f172a] px-4 py-4 sm:px-6 flex justify-between items-center border-b border-gray-700">
                    <h3 class="text-lg font-semibold leading-6 text-white" id="modal-title">Detalhes do Indicador</h3>
                    <button type="button" class="text-gray-400 hover:text-white" onclick="closeModal()">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <!-- Conteúdo do Modal -->
                <div class="px-4 py-6 sm:px-6">
                    <div id="modal-content">
                        <!-- Conteúdo Dinâmico Aqui -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification (Copiado com sucesso) -->
    <div id="toast" class="fixed bottom-5 right-5 bg-lunnar-primary text-white px-6 py-3 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 z-50 flex items-center gap-2">
        <i data-lucide="check-circle" class="w-5 h-5"></i>
        <span>Código copiado para a área de transferência!</span>
    </div>

    <script>
        // --- DADOS DOS PRODUTOS ---
        // EDITE AQUI PARA MUDAR NOMES, PREÇOS E CÓDIGOS
        const products = [
            // ITENS GRÁTIS (3 Itens)
            {
                id: 1,
                name: "RSI Divergence Pro",
                type: "free",
                price: 0,
                description: "Detecta divergências de RSI automaticamente para prever reversões.",
                code: `//@version=5
indicator("Lunnar RSI Divergence", overlay=false)
rsiLength = input(14, "RSI Length")
rsiSource = rsi(close, rsiLength)
plot(rsiSource, title="RSI", color=color.green)
hline(70, "Overbought", color=color.red)
hline(30, "Oversold", color=color.blue)
// Este é um código de exemplo da Lunnar`
            },
            {
                id: 2,
                name: "Moving Average Cross",
                type: "free",
                price: 0,
                description: "Sinais claros de compra e venda baseados em cruzamento de médias.",
                code: `//@version=5
indicator("Lunnar MA Cross", overlay=true)
fastLen = input(9, "Fast MA")
slowLen = input(21, "Slow MA")
fastMA = ta.ema(close, fastLen)
slowMA = ta.ema(close, slowLen)
plot(fastMA, color=color.yellow)
plot(slowMA, color=color.blue)
// Código Exemplo Lunnar Grátis`
            },
            {
                id: 3,
                name: "Volume Flow Basic",
                type: "free",
                price: 0,
                description: "Analise o fluxo de volume para confirmar tendências de alta.",
                code: `//@version=5
indicator("Lunnar Volume", overlay=false)
volColor = close > open ? color.green : color.red
plot(volume, style=plot.style_columns, color=volColor)
// Aproveite este indicador Lunnar`
            },
            // ITENS PAGOS (5 Itens - R$ 5,00)
            {
                id: 4,
                name: "Sniper Entry V3",
                type: "paid",
                price: 5.00,
                description: "Algoritmo de precisão institucional para entradas cirúrgicas."
            },
            {
                id: 5,
                name: "Golden Fibonacci",
                type: "paid",
                price: 5.00,
                description: "Traça automaticamente as retrações de fibo mais respeitadas."
            },
            {
                id: 6,
                name: "Trend Master Elite",
                type: "paid",
                price: 5.00,
                description: "Identifica a super tendência e filtra ruídos laterais."
            },
            {
                id: 7,
                name: "Scalping Machine",
                type: "paid",
                price: 5.00,
                description: "Ideal para gráficos de 1min e 5min. Alta frequência."
            },
            {
                id: 8,
                name: "Order Block Detector",
                type: "paid",
                price: 5.00,
                description: "Mostra zonas de oferta e demanda institucional no gráfico."
            }
        ];

        const contactInfo = {
            whatsapp: "5582996519753", // Seu número sem formatação
            instagram: "_vctr01_"       // Seu usuário sem @
        };

        // --- FUNÇÕES ---

        function formatCurrency(value) {
            return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        }

        function renderCatalog() {
            const grid = document.getElementById('product-grid');
            grid.innerHTML = '';

            products.forEach(product => {
                const isFree = product.type === 'free';
                const badgeColor = isFree ? 'bg-lunnar-primary/20 text-lunnar-primary border-lunnar-primary/30' : 'bg-yellow-500/20 text-yellow-500 border-yellow-500/30';
                const priceDisplay = isFree ? 'GRÁTIS' : formatCurrency(product.price);
                const buttonText = isFree ? 'Acessar Código' : 'Comprar Agora';
                const buttonClass = isFree ? 'bg-gray-700 hover:bg-gray-600' : 'bg-lunnar-primary hover:bg-emerald-600';

                const cardHTML = `
                    <div class="glass-card rounded-xl p-5 flex flex-col h-full hover:scale-[1.02] transition-transform duration-300 group cursor-pointer" onclick="openModal(${product.id})">
                        <div class="flex justify-between items-start mb-4">
                            <div class="p-3 rounded-lg bg-gray-800 group-hover:bg-gray-700 transition-colors">
                                <i data-lucide="${isFree ? 'code-2' : 'lock'}" class="w-6 h-6 text-white"></i>
                            </div>
                            <span class="px-3 py-1 rounded-full text-xs font-bold border ${badgeColor}">
                                ${priceDisplay}
                            </span>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-2">${product.name}</h3>
                        <p class="text-gray-400 text-sm flex-grow mb-4">${product.description}</p>
                        <button class="w-full py-2.5 rounded-lg text-white font-medium text-sm transition-colors ${buttonClass} flex justify-center items-center gap-2">
                            ${isFree ? '<i data-lucide="download" class="w-4 h-4"></i> Pegar Código' : '<i data-lucide="shopping-cart" class="w-4 h-4"></i> Adquirir'}
                        </button>
                    </div>
                `;
                grid.innerHTML += cardHTML;
            });
            lucide.createIcons();
        }

        function openModal(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;

            const modal = document.getElementById('modal');
            const contentDiv = document.getElementById('modal-content');
            const title = document.getElementById('modal-title');

            title.innerText = product.name;

            if (product.type === 'free') {
                contentDiv.innerHTML = `
                    <div class="space-y-4">
                        <div class="bg-blue-900/30 border border-blue-500/30 p-3 rounded-lg flex items-start gap-3">
                            <i data-lucide="info" class="text-blue-400 shrink-0 mt-0.5"></i>
                            <p class="text-sm text-blue-200">
                                <strong>Dica:</strong> Copie o código abaixo e cole no "Editor Pine" na parte inferior do seu TradingView.
                            </p>
                        </div>
                        
                        <div class="relative group">
                            <textarea id="code-area-${product.id}" class="w-full h-48 bg-gray-950 text-green-400 p-4 rounded-lg font-mono text-xs border border-gray-700 focus:border-lunnar-primary outline-none resize-none" readonly>${product.code}</textarea>
                            <button onclick="copyCode('code-area-${product.id}')" class="absolute top-2 right-2 bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-md transition-colors border border-gray-600" title="Copiar Código">
                                <i data-lucide="copy" class="w-4 h-4"></i>
                            </button>
                        </div>

                        <button onclick="copyCode('code-area-${product.id}')" class="w-full bg-lunnar-primary hover:bg-emerald-600 text-white font-bold py-3 rounded-lg transition-colors flex justify-center items-center gap-2">
                            <i data-lucide="copy"></i> Copiar Código Completo
                        </button>
                    </div>
                `;
            } else {
                const message = `Olá! Tenho interesse no indicador *${product.name}* da Loja Lunnar.`;
                const waLink = `https://wa.me/${contactInfo.whatsapp}?text=${encodeURIComponent(message)}`;
                const igLink = `https://instagram.com/${contactInfo.instagram}`;

                contentDiv.innerHTML = `
                    <div class="text-center space-y-6">
                        <div class="mx-auto w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center mb-2">
                             <i data-lucide="star" class="w-8 h-8 text-yellow-500 fill-current"></i>
                        </div>
                        <div>
                            <p class="text-gray-300 mb-1">Este é um indicador exclusivo Premium.</p>
                            <p class="text-2xl font-bold text-white mb-4">Valor: ${formatCurrency(product.price)}</p>
                            <p class="text-sm text-gray-400">Entre em contato diretamente comigo para adquirir e liberar seu acesso.</p>
                        </div>

                        <div class="space-y-3">
                            <a href="${waLink}" target="_blank" class="block w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3 rounded-lg transition-colors flex justify-center items-center gap-2">
                                <i data-lucide="message-circle" class="fill-current"></i> Comprar via WhatsApp
                            </a>
                            <a href="${igLink}" target="_blank" class="block w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-3 rounded-lg transition-colors flex justify-center items-center gap-2">
                                <i data-lucide="instagram"></i> Chamar no Instagram
                            </a>
                        </div>
                    </div>
                `;
            }

            modal.classList.remove('hidden');
            lucide.createIcons();
        }

        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
        }

        function copyCode(elementId) {
            const copyText = document.getElementById(elementId);
            
            // Seleciona o texto
            copyText.select();
            copyText.setSelectionRange(0, 99999); /* Para mobile */

            // Copia usando execCommand (fallback robusto)
            document.execCommand("copy");

            // Fecha modal (opcional, mas mantive aberto para o usuário ver)
            // closeModal();

            // Mostra notificação Toast
            const toast = document.getElementById('toast');
            toast.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => {
                toast.classList.add('translate-y-20', 'opacity-0');
            }, 3000);
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            renderCatalog();
            lucide.createIcons();
        });

    </script>
</body>
</html>